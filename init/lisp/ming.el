
;; https://emacs.stackexchange.com/questions/14420/how-can-i-fix-incorrect-character-width
(defun blaenk/set-char-widths (alist)
  (while (char-table-parent char-width-table)
    (setq char-width-table (char-table-parent char-width-table)))
  (dolist (pair alist)
    (let ((width (car pair))
          (chars (cdr pair))
          (table (make-char-table nil)))
      (dolist (char chars)
        (set-char-table-range table char width))
      (optimize-char-table table)
      (set-char-table-parent table char-width-table)
      (setq char-width-table table))))


;; argument is an alist of width and list of RANGEs,
;; which is the same as the RANGE that set-char-table-range accepts
;; for cangjie fonts:
;; https://github.com/yanyingwang/cangjie
(blaenk/set-char-widths
 `((2 . (?\􏻿
         ?\􏿰
         ?\名
         ?\各
         ?\各
         ?\􏹨
         ?\􏹧
         ?\􏹦
         ?\右
         ?\文
         ?\卩
         ?\卪
         ?\􏺃
         ?\𠨳
         ?\􏺄
         ?\􏺂
         ?\􏹾
         ?\􏹻
         ?\􏹹
         ?\􏹸
         ?\􏹷
         ?\􏹺
         ?\􏺀
         ?\􏹿
         ?\􏹽
         ?\􏹼
         ?\􏹶
         ?\􏹵
         ?\􏹴
         ?\􏹳
         ?\􏹲
         ?\􏹱
         ?\􏹰
         ?\􏹯
         ?\􏹮
         ?\􏹭
         ?\􏹬
         ?\􏹫
         ?\􏹪
         ?\􏹩
         ?\􏹤
         ?\􏹣
         ?\􏹢
         ?\􏹡
         ?\􏹠
         ?\􏹟
         ?\􏹟
         ?\􏹞
         ?\􏹝
         ?\􏹝
         ?\􏹜
         ?\􏹜
         ?\􏹛
         ?\􏹚
         ?\􏹚
         ?\􏹙
         ?\􏹘
         ?\􏹗
         ?\􏹖
         ?\􏹕
         ?\􏹔
         ?\􏹓
         ?\􏹓
         ?\􏹒
         ?\􏹑
         ?\􏹐
         ?\􏻧
         ?\􏻲
         ?\􏻲
         ?\􏻦
         ?\􏹏
         ?\􏹏
         ?\􏹎
         ?\􏺋
         ?\􏺋
         ?\􏺌
         ?\􏺏
         ?\􏺏
         ?\􏺎
         ?\􏺎
         ?\􏺍
         ?\􏺍
         ?\􏺔
         ?\􏺓
         ?\􏺒
         ?\􏺕
         ?\􏺕
         ?\􏺚
         ?\􏺚
         ?\􏺙
         ?\􏺸
         ?\􏺣
         ?\􏺢
         ?\􏺢
         ?\􏺡
         ?\􏺡
         ?\􏺡
         ?\􏺠
         ?\􏺟
         ?\􏺟
         ?\𥥪
         ?\􏺧
         ?\􏺦
         ?\􏺜
         ?\􏺛
         ?\􏻙
         ?\􏻘
         ?\􏻖
         ?\􏻖
         ?\􏻕
         ?\􏻕
         ?\𥻑
         ?\𥻑
         ?\𥺿
         ?\𥺿
         ?\􏺷
         ?\􏺶
         ?\􏺞
         ?\􏺞
         ?\􏺝
         ?\􏺝
         ?\􏺝
         ?\􏺴
         ?\􏺳
         ?\􏻛
         ?\􏻚
         ?\􏻩
         ?\􏻨
         ?\粭
         ?\粭
         ?\􏽐
         ?\􏽐
         ?\􏽏
         ?\􏽏
         ?\􏽎
         ?\􏽎
         ?\粃
         ?\𥹵
         ?\粰
         ?\𮇢
         ?\􏽍
         ?\􏽌
         ?\􏽋
         ?\􏽋
         ?\􏽈
         ?\􏽇
         ?\􏽆
         ?\􏽊
         ?\􏽊
         ?\􏽉
         ?\􏽉
         ?\釆
         ?\􏺘
         ?\􏺗
         ?\􏻡
         ?\􏻠
         ?\􏻟
         ?\􏻞
         ?\􏻝
         ?\􏻐
         ?\􏻜
         ?\􏻜
         ?\􏻜
         ?\䉾
         ?\䉾
         ?\􏻴
         ?\􏻴
         ?\􏻴
         ?\􏻴
         ?\􏻴
         ?\􏻳
         ?\􏻔
         ?\􏻱
         ?\􏻱
         ?\􏻈
         ?\􏻰
         ?\􏻯
         ?\􏻮
         ?\􏻭
         ?\􏻬
         ?\􏻫
         ?\夈
         ?\宩
         ?\粊
         ?\𮀦
         ?\􏻥
         ?\􏻥
         ?\􏻤
         ?\􏻣
         ?\􏻢
         ?\􏻢
         ?\𠤻
         ?\𥺌
         ?\𥺌
         ?\􏻓
         ?\𥸷
         ?\𫦨
         ?\􏻊
         ?\􏻊
         ?\􏻉
         ?\􏻉
         ?\􏻃
         ?\􏻂
         ?\􏻁
         ?\􏻀
         ?\􏻃
         ?\􏻂
         ?\􏻁
         ?\􏻀
         ?\􏺿
         ?\􏺿
         ?\􏺾
         ?\􏺾
         ?\􏺽
         ?\􏺽
         ?\􏺼
         ?\􏺼
         ?\􏻏
         ?\􏻏
         ?\􏻎
         ?\􏻎
         ?\􏻍
         ?\􏻍
         ?\􏻌
         ?\􏻌
         ?\􏻋
         ?\􏻋
         ?\􏺹
         ?\􏻗
         ?\􏿽
         ?\􏿼
         ?\􏿻
         ?\􏿺
         ?\㘝
         ?\𨑱
         ?\𰙪
         ?\𭠎
         ?\𬤏
         ?\􏿹
         ?\􏿬
         ?\􏿭
         ?\􏿣
         ?\􏿥
         ?\􏿢
         ?\􏿤
         ?\􏿡
         ?\􏿠
         ?\􏿟
         ?\􏿞
         ?\􏿖
         ?\􏿕
         ?\􏿔
         ?\􏿕
         ?\􏿔
         ?\􏿓
         ?\􏿒
         ?\􏿑
         ?\􏿐
         ?\􏿏
         ?\􏿎
         ?\􏿍
         ?\􏿌
         ?\􏿋
         ?\􏿈
         ?\􏿇
         ?\􏿆
         ?\􏿅
         ?\􏿝
         ?\􏿜
         ?\􏿛
         ?\􏿗
         ?\徝
         ?\笈
         ?\􏿚
         ?\􏿚
         ?\􏿊
         ?\􏿉
         ?\􏿙
         ?\􏿘
         ?\􏿄
         ?\􏿃
         ?\􏿂
         ?\􏿁
         ?\􏿁
         ?\𬩽
         ?\𬩽
         ?\􏾿
         ?\􏾾
         ?\􏿀
         ?\􏾽
         ?\􏾼
         ?\􏾻
         ?\𮞑
         ?\𮞑
         ?\􏾺
         ?\𨚞
         ?\􏾺
         ?\𨚞
         ?\􏾹
         ?\􏾸
         ?\􏾷
         ?\􏾶
         ?\􏾴
         ?\􏾳
         ?\􏾲
         ?\􏾱
         ?\􏾰
         ?\􏾯
         ?\􏾮
         ?\􏾭
         ?\􏾬
         ?\􏾫
         ?\􏾪
         ?\𢪛
         ?\􏾩
         ?\𢪛
         ?\􏾩
         ?\抇
         ?\抇
         ?\抈
         ?\抈
         ?\䒨
         ?\䒨
         ?\􏾨
         ?\􏾨
         ?\􏾧
         ?\􏾦
         ?\􏾥
         ?\􏾤
         ?\𪭨
         ?\𪭨
         ?\􏾣
         ?\􏾢
         ?\􏾡
         ?\􏾠
         ?\􏾠
         ?\􏷿
         ?\􏷾
         ?\𰂋
         ?\𰂋
         ?\􏷼
         ?\𫼛
         ?\𫼛
         ?\伄
         ?\伄
         ?\𠇁
         ?\𢪉
         ?\􏷹
         ?\􏷸
         ?\􏷷
         ?\𠝤
         ?\􏷶
         ?\􏷵
         ?\􏷴
         ?\􏷵
         ?\􏷴
         ?\􏷳
         ?\􏷳
         ?\􏷳
         ?\􏷳
         ?\􏷲
         ?\􏷲
         ?\佫
         ?\􏷱
         ?\􏷰
         ?\􏷮
         ?\􏷭
         ?\􏷭
         ?\􏷯
         ?\􏷬
         ?\㦴
         ?\垿
         ?\垿
         ?\㙏
         ?\􏾟
         ?\􏾞
         ?\􏾝
         ?\𬩵
         ?\𬩵
         ?\𡖻
         ?\􏾜
         ?\偅
         ?\􏾛
         ?\􏾛
         ?\􏾛
         ?\𠆯
         ?\􏾚
         ?\􏾙
         ?\𥸬
         ?\􏾘
         ?\􏾘
         ?\􏾗
         ?\􏾗
         ?\􏾖
         ?\􏾖
         ?\􏾕
         ?\􏾕
         ?\􏾃
         ?\􏾔
         ?\􏾔
         ?\􏾔
         ?\􏾓
         ?\􏾒
         ?\􏾒
         ?\􏾑
         ?\􏾑
         ?\􏾐
         ?\􏾐
         ?\􏾏
         ?\􏾏
         ?\􏾈
         ?\􏾈
         ?\􏾎
         ?\􏾎
         ?\􏾎
         ?\􏾍
         ?\􏾍
         ?\􏾌
         ?\􏾌
         ?\􏾋
         ?\􏾋
         ?\􏾋
         ?\􏾊
         ?\􏾊
         ?\􏾊
         ?\􏾊
         ?\􏾉
         ?\􏾉
         ?\􏾈
         ?\􏾈
         ?\􏾇
         ?\􏾆
         ?\􏾅
         ?\􏾄
         ?\􏾂
         ?\􏾁
         ?\􏾀
         ?\􏽿
         ?\􏽾
         ?\􏽽
         ?\􏽼
         ?\􏽻
         ?\􏽺
         ?\􏽹
         ?\􏽸
         ?\􏽷
         ?\􏽶
         ?\􏽵
         ?\􏽴
         ?\􏽳
         ?\􏽲
         ?\􏽱
         ?\􏽰
         ?\􏽯
         ?\􏽮
         ?\􏽭
         ?\􏽬
         ?\􏽫
         ?\􏽪
         ?\􏽩
         ?\􏽨
         ?\􏽧
         ?\􏽦
         ?\􏽥
         ?\􏽤
         ?\􏽣
         ?\􏽢
         ?\􏽡
         ?\􏽠
         ?\􏽟
         ?\􏽞
         ?\􏽞
         ?\􏽝
         ?\􏽝
         ?\􏽜
         ?\􏽜
         ?\􏽛
         ?\􏽛
         ?\􏽚
         ?\𦙨
         ?\􏽙
         ?\􏽙
         ?\􏽘
         ?\􏽗
         ?\𠛮
         ?\𠛮
         ?\􏽖
         ?\􏽖
         ?\􏽕
         ?\􏽔
         ?\􏽔
         ?\􏽓
         ?\􏽓
         ?\􏽒
         ?\挌
         ?\􏽑
         ?\㞺
         ?\􏽅
         ?\􏽄
         ?\勺
         ?\􏽃
         ?\􏽃
         ?\􏽂
         ?\􏽂
         ?\􏽁
         ?\􏽁
         ?\􏽀
         ?\􏽀
         ?\􏼿
         ?\􏼾
         ?\􏼽
         ?\􏼼
         ?\􏼻
         ?\􏼻
         ?\􏼺
         ?\􏼺
         ?\𥦯
         ?\􏼹
         ?\􏼸
         ?\􏼷
         ?\􏼶
         ?\􏼵
         ?\􏼴
         ?\􏼳
         ?\􏼲
         ?\􏼱
         ?\􏼰
         ?\􏼰
         ?\􏼯
         ?\􏼯
         ?\􏼮
         ?\􏼮
         ?\􏼭
         ?\􏼬
         ?\邭
         ?\邭
         ?\􏼪
         ?\􏼪
         ?\􏼩
         ?\􏼩
         ?\􏼨
         ?\􏼧
         ?\􏼧
         ?\􏼦
         ?\􏼦
         ?\􏼥
         ?\􏼥
         ?\􏼤
         ?\􏼣
         ?\􏼢
         ?\􏼡
         ?\􏼠
         ?\􏼠
         ?\􏼟
         ?\􏼞
         ?\􏼝
         ?\􏼜
         ?\􏼛
         ?\􏼚
         ?\􏼚
         ?\􏼙
         ?\􏼙
         ?\􏼘
         ?\􏼗
         ?\􏼖
         ?\𰅡
         ?\𢪎
         ?\􏼕
         ?\􏼓
         ?\􏼓
         ?\􏼒
         ?\􏼒
         ?\􏼎
         ?\􏼎
         ?\􏼏
         ?\􏼏
         ?\􏼍
         ?\􏼍
         ?\􏼌
         ?\􏼋
         ?\􏼋
         ?\􏼊
         ?\􏼊
         ?\􏼉
         ?\􏼉
         ?\􏼈
         ?\􏼈
         ?\􏼇
         ?\􏼇
         ?\􏼆
         ?\􏼆
         ?\􏼅
         ?\􏼅
         ?\􏼄
         ?\􏼃
         ?\􏼂
         ?\􏼂
         ?\􏼁
         ?\􏼁
         ?\􏼀
         ?\􏼀
         ?\􏼑
         ?\􏼔
         ?\􏼐
         ?\􏻿
         ?\􏻾
         ?\􏻽
         ?\􏻽
         ?\􏻼
         ?\􏻼
         ?\􏻻
         ?\􏻻
         ?\􏻺
         ?\􏻺
         ?\􏻹
         ?\􏻹
         ?\􏻸
         ?\􏺖
         ?\􏻷
         ?\􏻶
         ?\􏻶
         ?\􏻵
         ?\􏻵
         ?\􏿴
         ?\􏿪
         ?\􏿩
         ?\􏿫
         ?\􏿳
         ?\􏿳
         ?\􏿲
         ?\􏿨
         ?\􏿧
         ?\􏿯
         ?\􏿮
         ?\􏿱
         ?\􏿰
         ?\􏿦
         ?\􏷽
         ?\􏺑
         ?\􏺐
         ?\􏺆
         ?\􏺅
         ?\􏺈
         ?\􏺈
         ?\􏺈
         ?\􏺇
         ?\􏺇
         ?\􏺇
         ?\􏺉
         ?\􏺉
         ?\􏺊
         ?\𰁣
         ?\􏹌
         ?\􏹋
         ?\􏹊
         ?\􏹉
         ?\􏹈
         ?\􏹇
         ?\􏹅
         ?\􏹄
         ?\􏹃
         ?\􏹀
         ?\􏸼
         ?\􏸾
         ?\􏺈
         ?\􏸧
         ?\􏸬
         ?\􏸫
         ?\􏸪
         ?\􏸞
         ?\􏸟
         ?\􏸣
         ))))

;; (char-width ?\􏿰)
;; (string-width "􏻿")



